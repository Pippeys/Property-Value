load("C:/Users/Scott/Dropbox/twerk werk/Property Value/propers.RData")
library(tidyr)
library(dplyr)
library(ggplot2)
props['Price/Sqft']<-NA
'Price/Sqft'<-'Last Price'/'Square footage'
props$'Price/Sqft'<-props$'Last Price'/props$'Square footage'
props$'Price/Sqft'<-props$'Last Price'/props$`Square Footage`
head(props)
View(props)
ggplot(props, aes(x = props$`Last Sale`, y = props$`Price/Sqft`))+
geom_point()
cleaner$ZipCode<-strtrim(cleaner$ZipCode, 5)
cleaner$ZipCode<-strtrim(cleaner$ZipCode, 5)
library(ggplot2)
library(dplyr)
library(stringr)
load("Property Value/propers.RData")
head(properties)
## make sure there are no NAs in the columns we care about and select the columns we want
cleaner <- properties %>%
filter(!is.na(`Last Price`) & !is.na(properties$`Last Sale`) & !is.na(properties$PropertyType) & !is.na(properties$`Prop Sale GRM`) & !is.na(properties$`Zip Code`) & properties$`Prop Sale GRM` > 0) %>%
select(`Last Price`, `Last Sale`, PropertyType, `Prop Sale GRM`, `Zip Code`)
## rename so the names dont suck
names(cleaner) <- c('LastPrice','LastSale','PropertyType','PropSaleGRM','ZipCode')
cleaner$PropertyType <- as.factor(cleaner$PropertyType)
cleaner$ZipCode <- as.factor(cleaner$ZipCode)
## dims
dim(cleaner)[1]# after
dim(properties)[1] # before
summary(cleaner$PropertyType)
summary(cleaner$ZipCode)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropertyType,y = LastPrice)) +
geom_boxplot() +
ylim(0, 1000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = LastPrice)) +
geom_histogram() +
xlim(0,10000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropSaleGRM)) +
geom_histogram() +
xlim(0,30)
library(ggplot2)
library(dplyr)
library(stringr)
load("Property Value/propers.RData")
head(properties)
## make sure there are no NAs in the columns we care about and select the columns we want
cleaner <- properties %>%
filter(!is.na(`Last Price`) & !is.na(properties$`Last Sale`) & !is.na(properties$PropertyType) & !is.na(properties$`Prop Sale GRM`) & !is.na(properties$`Zip Code`) & properties$`Prop Sale GRM` > 0) %>%
select(`Last Price`, `Last Sale`, PropertyType, `Prop Sale GRM`, `Zip Code`)
## rename so the names dont suck
names(cleaner) <- c('LastPrice','LastSale','PropertyType','PropSaleGRM','ZipCode')
cleaner$PropertyType <- as.factor(cleaner$PropertyType)
cleaner$ZipCode <- as.factor(cleaner$ZipCode)
## dims
dim(cleaner)[1]# after
dim(properties)[1] # before
summary(cleaner$PropertyType)
summary(cleaner$ZipCode)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropertyType,y = LastPrice)) +
geom_boxplot() +
ylim(0, 1000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = LastPrice)) +
geom_histogram() +
xlim(0,10000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropSaleGRM)) +
geom_histogram() +
xlim(0,30)
cleaner$ZipCode<-strtrim(cleaner$ZipCode, 5)
ggplot(aes(x = ZipCode))+
geom_histogram()+
xlim(0,10000)
library(ggplot2)
library(dplyr)
library(stringr)
load("Property Value/propers.RData")
head(properties)
## make sure there are no NAs in the columns we care about and select the columns we want
cleaner <- properties %>%
filter(!is.na(`Last Price`) & !is.na(properties$`Last Sale`) & !is.na(properties$PropertyType) & !is.na(properties$`Prop Sale GRM`) & !is.na(properties$`Zip Code`) & properties$`Prop Sale GRM` > 0) %>%
select(`Last Price`, `Last Sale`, PropertyType, `Prop Sale GRM`, `Zip Code`)
## rename so the names dont suck
names(cleaner) <- c('LastPrice','LastSale','PropertyType','PropSaleGRM','ZipCode')
cleaner$PropertyType <- as.factor(cleaner$PropertyType)
cleaner$ZipCode <- as.factor(cleaner$ZipCode)
## dims
dim(cleaner)[1]# after
dim(properties)[1] # before
summary(cleaner$PropertyType)
summary(cleaner$ZipCode)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropertyType,y = LastPrice)) +
geom_boxplot() +
ylim(0, 1000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = LastPrice)) +
geom_histogram() +
xlim(0,10000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropSaleGRM)) +
geom_histogram() +
xlim(0,30)
library(ggplot2)
library(dplyr)
library(stringr)
load("Property Value/propers.RData")
head(properties)
## make sure there are no NAs in the columns we care about and select the columns we want
cleaner <- properties %>%
filter(!is.na(`Last Price`) & !is.na(properties$`Last Sale`) & !is.na(properties$PropertyType) & !is.na(properties$`Prop Sale GRM`) & !is.na(properties$`Zip Code`) & properties$`Prop Sale GRM` > 0) %>%
select(`Last Price`, `Last Sale`, PropertyType, `Prop Sale GRM`, `Zip Code`)
## rename so the names dont suck
names(cleaner) <- c('LastPrice','LastSale','PropertyType','PropSaleGRM','ZipCode')
cleaner$PropertyType <- as.factor(cleaner$PropertyType)
cleaner$ZipCode <- as.factor(cleaner$ZipCode)
## dims
dim(cleaner)[1]# after
dim(properties)[1] # before
summary(cleaner$PropertyType)
summary(cleaner$ZipCode)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropertyType,y = LastPrice)) +
geom_boxplot() +
ylim(0, 1000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = LastPrice)) +
geom_histogram() +
xlim(0,10000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropSaleGRM)) +
geom_histogram() +
xlim(0,30)
library(ggplot2)
library(dplyr)
library(stringr)
load("Property Value/propers.RData")
head(properties)
## make sure there are no NAs in the columns we care about and select the columns we want
cleaner <- properties %>%
filter(!is.na(`Last Price`) & !is.na(properties$`Last Sale`) & !is.na(properties$PropertyType) & !is.na(properties$`Prop Sale GRM`) & !is.na(properties$`Zip Code`) & properties$`Prop Sale GRM` > 0) %>%
select(`Last Price`, `Last Sale`, PropertyType, `Prop Sale GRM`, `Zip Code`)
## rename so the names dont suck
names(cleaner) <- c('LastPrice','LastSale','PropertyType','PropSaleGRM','ZipCode')
cleaner$PropertyType <- as.factor(cleaner$PropertyType)
cleaner$ZipCode <- as.factor(cleaner$ZipCode)
## dims
dim(cleaner)[1]# after
dim(properties)[1] # before
summary(cleaner$PropertyType)
summary(cleaner$ZipCode)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropertyType,y = LastPrice)) +
geom_boxplot() +
ylim(0, 1000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = LastPrice)) +
geom_histogram() +
xlim(0,10000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropSaleGRM)) +
geom_histogram() +
xlim(0,30)
library(ggplot2)
library(dplyr)
library(stringr)
load("Property Value/propers.RData")
head(properties)
## make sure there are no NAs in the columns we care about and select the columns we want
cleaner <- properties %>%
filter(!is.na(`Last Price`) & !is.na(properties$`Last Sale`) & !is.na(properties$PropertyType) & !is.na(properties$`Prop Sale GRM`) & !is.na(properties$`Zip Code`) & properties$`Prop Sale GRM` > 0) %>%
select(`Last Price`, `Last Sale`, PropertyType, `Prop Sale GRM`, `Zip Code`)
## rename so the names dont suck
names(cleaner) <- c('LastPrice','LastSale','PropertyType','PropSaleGRM','ZipCode')
cleaner$PropertyType <- as.factor(cleaner$PropertyType)
cleaner$ZipCode <- as.factor(cleaner$ZipCode)
## dims
dim(cleaner)[1]# after
dim(properties)[1] # before
summary(cleaner$PropertyType)
summary(cleaner$ZipCode)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropertyType,y = LastPrice)) +
geom_boxplot() +
ylim(0, 1000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = LastPrice)) +
geom_histogram() +
xlim(0,10000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropSaleGRM)) +
geom_histogram() +
xlim(0,30)
ggplot(cleaner, aes(x = as.character(ZipCode))+
geom_histogram()
library(ggplot2)
library(ggplot2)
library(dplyr)
library(stringr)
load("Property Value/propers.RData")
head(properties)
## make sure there are no NAs in the columns we care about and select the columns we want
cleaner <- properties %>%
filter(!is.na(`Last Price`) & !is.na(properties$`Last Sale`) & !is.na(properties$PropertyType) & !is.na(properties$`Prop Sale GRM`) & !is.na(properties$`Zip Code`) & properties$`Prop Sale GRM` > 0) %>%
select(`Last Price`, `Last Sale`, PropertyType, `Prop Sale GRM`, `Zip Code`)
## rename so the names dont suck
names(cleaner) <- c('LastPrice','LastSale','PropertyType','PropSaleGRM','ZipCode')
cleaner$PropertyType <- as.factor(cleaner$PropertyType)
cleaner$ZipCode <- as.factor(cleaner$ZipCode)
## dims
dim(cleaner)[1]# after
dim(properties)[1] # before
summary(cleaner$PropertyType)
summary(cleaner$ZipCode)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropertyType,y = LastPrice)) +
geom_boxplot() +
ylim(0, 1000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = LastPrice)) +
geom_histogram() +
xlim(0,10000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropSaleGRM)) +
geom_histogram() +
xlim(0,30)
cleaner$ZipCode<-strtrim(cleaner$ZipCode, 5)
ggplot (cleaner, aes(x = as.character(ZipCode))+
geom_histogram()
cleaner$ZipCode<-strtrim(cleaner$ZipCode, 5)
ggplot (cleaner, aes(x = as.character(ZipCode))+
geom_histogram() +
xlim(0,10000)
library(ggplot2)
library(dplyr)
library(stringr)
load("Property Value/propers.RData")
head(properties)
## make sure there are no NAs in the columns we care about and select the columns we want
cleaner <- properties %>%
filter(!is.na(`Last Price`) & !is.na(properties$`Last Sale`) & !is.na(properties$PropertyType) & !is.na(properties$`Prop Sale GRM`) & !is.na(properties$`Zip Code`) & properties$`Prop Sale GRM` > 0) %>%
select(`Last Price`, `Last Sale`, PropertyType, `Prop Sale GRM`, `Zip Code`)
## rename so the names dont suck
names(cleaner) <- c('LastPrice','LastSale','PropertyType','PropSaleGRM','ZipCode')
cleaner$PropertyType <- as.factor(cleaner$PropertyType)
cleaner$ZipCode <- as.factor(cleaner$ZipCode)
## dims
dim(cleaner)[1]# after
dim(properties)[1] # before
summary(cleaner$PropertyType)
summary(cleaner$ZipCode)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropertyType,y = LastPrice)) +
geom_boxplot() +
ylim(0, 1000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = LastPrice)) +
geom_histogram() +
xlim(0,10000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropSaleGRM)) +
geom_histogram() +
xlim(0,30)
cleaner$ZipCode<-strtrim(cleaner$ZipCode, 5)
ggplot (cleaner, aes(x = as.character(ZipCode)) +
geom_histogram() +
xlim(0,10000)
cleaner$ZipCode<-strtrim(cleaner$ZipCode, 5)
ggplot (cleaner, aes(x = as.character(ZipCode))) +
geom_histogram() +
xlim(0,10000)
cleaner$ZipCode<-strtrim(cleaner$ZipCode, 5)
ggplot (cleaner, aes(x = as.numeric(ZipCode))) +
geom_histogram() +
xlim(0,10000)
library(ggplot2)
library(dplyr)
library(stringr)
load("Property Value/propers.RData")
head(properties)
## make sure there are no NAs in the columns we care about and select the columns we want
cleaner <- properties %>%
filter(!is.na(`Last Price`) & !is.na(properties$`Last Sale`) & !is.na(properties$PropertyType) & !is.na(properties$`Prop Sale GRM`) & !is.na(properties$`Zip Code`) & properties$`Prop Sale GRM` > 0) %>%
select(`Last Price`, `Last Sale`, PropertyType, `Prop Sale GRM`, `Zip Code`)
## rename so the names dont suck
names(cleaner) <- c('LastPrice','LastSale','PropertyType','PropSaleGRM','ZipCode')
cleaner$PropertyType <- as.factor(cleaner$PropertyType)
cleaner$ZipCode <- as.factor(cleaner$ZipCode)
## dims
dim(cleaner)[1]# after
dim(properties)[1] # before
summary(cleaner$PropertyType)
summary(cleaner$ZipCode)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropertyType,y = LastPrice)) +
geom_boxplot() +
ylim(0, 1000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = LastPrice)) +
geom_histogram() +
xlim(0,10000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropSaleGRM)) +
geom_histogram() +
xlim(0,30)
View(cleaner)
library(stringr)
cleaner$ZipCode<-strtrim(cleaner$ZipCode, 5)
ggplot (cleaner, aes(x = as.numeric(ZipCode))) +
geom_histogram() +
xlim(9000,10000)
library(ggplot2)
library(dplyr)
library(stringr)
load("Property Value/propers.RData")
head(properties)
## make sure there are no NAs in the columns we care about and select the columns we want
cleaner <- properties %>%
filter(!is.na(`Last Price`) & !is.na(properties$`Last Sale`) & !is.na(properties$PropertyType) & !is.na(properties$`Prop Sale GRM`) & !is.na(properties$`Zip Code`) & !is.na(properties$`Square Footage`) & properties$`Prop Sale GRM` > 0) %>%
select(`Last Price`, `Last Sale`, PropertyType, `Prop Sale GRM`, `Square Footage`, `Zip Code`)
## rename so the names dont suck
names(cleaner) <- c('LastPrice','LastSale','PropertyType','PropSaleGRM', 'Sqft', 'ZipCode')
cleaner$PropertyType <- as.factor(cleaner$PropertyType)
cleaner$ZipCode <- as.factor(cleaner$ZipCode)
## dims
dim(cleaner)[1]# after
dim(properties)[1] # before
ggplot(cleaner, aes(x = Sqft)) +
geom_histogram()
ggplot(cleaner, aes(x = Sqft)) +
geom_histogram() +
xlim(0,20000)
View(cleaner)
library(ggplot2)
library(dplyr)
library(stringr)
load("Property Value/propers.RData")
head(properties)
## make sure there are no NAs in the columns we care about and select the columns we want
cleaner <- properties %>%
filter(!is.na(`Last Price`) & !is.na(properties$`Last Sale`) & !is.na(properties$PropertyType) & !is.na(properties$`Prop Sale GRM`) & !is.na(properties$`Zip Code`) & !is.na(properties$`Square Footage`) & properties$`Prop Sale GRM` > 0) %>%
select(`Last Price`, `Last Sale`, PropertyType, `Prop Sale GRM`, `Square Footage`, `Zip Code`)
## rename so the names dont suck
names(cleaner) <- c('LastPrice','LastSale','PropertyType','PropSaleGRM', 'Sqft', 'ZipCode')
cleaner$PropertyType <- as.factor(cleaner$PropertyType)
cleaner$ZipCode <- as.factor(cleaner$ZipCode)
## dims
dim(cleaner)[1]# after
dim(properties)[1] # before
summary(cleaner$PropertyType)
summary(cleaner$ZipCode)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropertyType,y = LastPrice)) +
geom_boxplot() +
ylim(0, 1000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = LastPrice)) +
geom_histogram() +
xlim(0,10000000)
cleaner %>%
filter(PropertyType == 'Multifamily') %>%
ggplot(aes(x = PropSaleGRM)) +
geom_histogram() +
xlim(0,30)
cleaner$ZipCode<-strtrim(cleaner$ZipCode, 5)
ggplot (cleaner, aes(x = as.numeric(ZipCode))) +
geom_histogram() +
xlim(9000,10000)
ggplot(cleaner, aes(x = Sqft)) +
geom_histogram() +
xlim(0,20000)
ggplot(cleaner, aes(x = Sqft)) +
geom_histogram() +
xlim(0,100000)
ggplot(cleaner, aes(x = Sqft)) +
geom_histogram() +
xlim(0,200000)
ggplot(cleaner, aes(x = Sqft)) +
geom_histogram() +
xlim(0,200000)
#too many outliers...
ggplot(cleaner, aes(x = Sqft))+
geom_histogram()+
xlim(0,20000)
ggplot(cleaner, aes(x = Sqft))+
geom_histogram()+
xlim(0,20000)
ggplot(cleaner, aes(x = Sqft)) +
geom_histogram() +
xlim(0,200000)
#too many outliers...
cleaner %>%
ggplot(aes(x = LastPrice/Sqft, y = PropSaleGRM)) +
geom_point() +
ylim(0,25) +
xlim(0,20000) +
geom_smooth(method = "lm")
cleaner %>%
ggplot(aes(x = LastPrice/Sqft, y = PropSaleGRM)) +
geom_point() +
ylim(0,25) +
xlim(0,5000) +
geom_smooth(method = "lm")
cleaner %>%
ggplot(aes(x = LastPrice/Sqft, y = PropSaleGRM)) +
geom_point() +
ylim(0,25) +
xlim(0,1000) +
geom_smooth(method = "lm")
